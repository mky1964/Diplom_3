{"name": "test_set_email_when_restoring_password", "status": "broken", "statusDetails": {"message": "KeyError: 'token'", "trace": "self = <tests.test_restore_password.TestPasswordRestore object at 0x0000018A8EF73920>, driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e3d38f112f7582506e9009c600be3b97\")>\nnew_user = {'email': 'michelle89@example.net', 'name': 'Allison Smith', 'password': 'h%KkSqy!(7'}\n\n    @allure.title('test_set_email_when_restoring_password')\n    @allure.description('Позитивный тест.Восстановление пароля. Ввод почты и клик по кнопке «Восстановить».'\n                        ' Переход на новую страницу для замены пароля. Наличие кнопки \"Сoхранить\"')\n    def test_set_email_when_restoring_password(self, driver, new_user):\n        main_page_1 = MainPage(driver)\n        account_1 = Account(driver)\n        restore_1 = RestorePassword(driver)\n        new_user_with_accesstoken = account_1.registration_of_new_user(new_user)\n        main_page_1.find_enter_account_button(20)\n        main_page_1.click_on_enter_account_button(30)#Кликнуть переход \"Вход в Аккаунт\" из Main page\n        account_1.click_on_restore_password_button(30)#Кликнуть Восстановление пароля во вкладке \"ВХОД\" Личного кабинета\n        restore_1.set_email_at_restoring_password_page(driver, new_user_with_accesstoken, 60)\n        restore_1.click_on_restore_button_on_restore_password_page_1(60)\n        assert WebDriverWait(driver, 60).until(EC.presence_of_element_located(\n            RestoringPasswordPageLocators.RESTORING_PASSWORD_PAGE_BUTTON_SAVE)), 'Не произошел переход на страницу восстановления пароля_2'\n>       main_page_1.deleting_of_new_user(new_user_with_accesstoken)\n\ntests\\test_restore_password.py:42: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.main_page.MainPage object at 0x0000018A8F049580>, new_user_with_accesstoken = {'email': 'michelle89@example.net', 'name': 'Allison Smith', 'password': 'h%KkSqy!(7'}\n\n    @allure.step('deleting_of_new_user')\n    def deleting_of_new_user(self, new_user_with_accesstoken):\n>       requests.delete(Constants.DELETE_USER_URL, headers={'Authorization': new_user_with_accesstoken['token']},timeout=10)\nE       KeyError: 'token'\n\npages\\base_page.py:85: KeyError"}, "description": "Позитивный тест.Восстановление пароля. Ввод почты и клик по кнопке «Восстановить». Переход на новую страницу для замены пароля. Наличие кнопки \"Сoхранить\"", "steps": [{"name": "registration_of_new_user", "status": "passed", "parameters": [{"name": "new_user", "value": "{'email': 'michelle89@example.net', 'password': 'h%KkSqy!(7', 'name': 'Allison Smith'}"}], "start": 1726839121134, "stop": 1726839155476}, {"name": "click_on_enter_account_button", "status": "passed", "steps": [{"name": "find_element_located", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \"//button[text()='Войти в аккаунт']\")"}, {"name": "delay_time", "value": "20"}], "start": 1726839155476, "stop": 1726839155511}], "parameters": [{"name": "delay_time", "value": "20"}], "start": 1726839155476, "stop": 1726839155511}, {"name": "click_on_enter_account_button", "status": "passed", "steps": [{"name": "click_on_element_located", "status": "passed", "steps": [{"name": "find_element_located", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \"//button[text()='Войти в аккаунт']\")"}, {"name": "delay_time", "value": "30"}], "start": 1726839157512, "stop": 1726839157542}], "parameters": [{"name": "locator", "value": "('xpath', \"//button[text()='Войти в аккаунт']\")"}, {"name": "delay_time", "value": "30"}], "start": 1726839157512, "stop": 1726839157583}], "parameters": [{"name": "delay_time", "value": "30"}], "start": 1726839155511, "stop": 1726839157583}, {"name": "click_on_enter_account_button", "status": "passed", "steps": [{"name": "click_on_element_located", "status": "passed", "steps": [{"name": "find_element_located", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', \"//a[text()='Восстановить пароль']\")"}, {"name": "delay_time", "value": "30"}], "start": 1726839157583, "stop": 1726839157603}], "parameters": [{"name": "locator", "value": "('xpath', \"//a[text()='Восстановить пароль']\")"}, {"name": "delay_time", "value": "30"}], "start": 1726839157583, "stop": 1726839157637}], "parameters": [{"name": "delay_time", "value": "30"}], "start": 1726839157583, "stop": 1726839157637}, {"name": "set_email_at_restoring_password_page", "status": "passed", "steps": [{"name": "set_text_to_element_located", "status": "passed", "steps": [{"name": "find_element_located", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', '//input[@class=\"text input__textfield text_type_main-default\"]')"}, {"name": "delay_time", "value": "60"}], "start": 1726839157648, "stop": 1726839157662}], "parameters": [{"name": "locator", "value": "('xpath', '//input[@class=\"text input__textfield text_type_main-default\"]')"}, {"name": "text", "value": "'michelle89@example.net'"}, {"name": "delay_time", "value": "60"}], "start": 1726839157648, "stop": 1726839157729}], "parameters": [{"name": "driver", "value": "<selenium.webdriver.chrome.webdriver.WebDriver (session=\"e3d38f112f7582506e9009c600be3b97\")>"}, {"name": "new_user_with_accesstoken", "value": "{'email': 'michelle89@example.net', 'password': 'h%KkSqy!(7', 'name': 'Allison Smith'}"}, {"name": "delay_time", "value": "60"}], "start": 1726839157637, "stop": 1726839157729}, {"name": "click_on_restore_button_on_restore_password_page_1", "status": "passed", "steps": [{"name": "click_on_element_located", "status": "passed", "steps": [{"name": "find_element_located", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', '//button[@class=\"button_button__33qZ0 button_button_type_primary__1O7Bx button_button_size_medium__3zxIa\" and text()=\"Восстановить\"]')"}, {"name": "delay_time", "value": "60"}], "start": 1726839157729, "stop": 1726839157744}], "parameters": [{"name": "locator", "value": "('xpath', '//button[@class=\"button_button__33qZ0 button_button_type_primary__1O7Bx button_button_size_medium__3zxIa\" and text()=\"Восстановить\"]')"}, {"name": "delay_time", "value": "60"}], "start": 1726839157729, "stop": 1726839157773}], "parameters": [{"name": "delay_time", "value": "60"}], "start": 1726839157729, "stop": 1726839157773}, {"name": "deleting_of_new_user", "status": "broken", "statusDetails": {"message": "KeyError: 'token'\n", "trace": "  File \"C:\\Users\\veron\\PycharmProjects\\Diplom\\Diplom_2\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\veron\\PycharmProjects\\Diplom\\Diplom_3\\pages\\base_page.py\", line 85, in deleting_of_new_user\n    requests.delete(Constants.DELETE_USER_URL, headers={'Authorization': new_user_with_accesstoken['token']},timeout=10)\n                                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n"}, "parameters": [{"name": "new_user_with_accesstoken", "value": "{'email': 'michelle89@example.net', 'password': 'h%KkSqy!(7', 'name': 'Allison Smith'}"}], "start": 1726839158815, "stop": 1726839158815}], "parameters": [{"name": "driver", "value": "'chrome'"}], "start": 1726839121133, "stop": 1726839158819, "uuid": "4732e06c-bbb0-45dd-947e-b033ff78fcae", "historyId": "e38a5c8656eb65fda78bef049ff4819c", "testCaseId": "fcb32fd70a9f1c3543522ae02b12e836", "fullName": "tests.test_restore_password.TestPasswordRestore#test_set_email_when_restoring_password", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_restore_password"}, {"name": "subSuite", "value": "TestPasswordRestore"}, {"name": "host", "value": "LAPTOP-KL5MP4V8"}, {"name": "thread", "value": "4996-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_restore_password"}]}